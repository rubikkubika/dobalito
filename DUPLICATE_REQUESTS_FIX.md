# –ò—Å–ø—Ä–∞–≤–ª–µ–Ω–∏–µ –¥—É–±–ª–∏—Ä–æ–≤–∞–Ω–∏—è –∑–∞–ø—Ä–æ—Å–æ–≤ –∫ –±—ç–∫–µ–Ω–¥—É

## üêõ –ü—Ä–æ–±–ª–µ–º–∞

–û–±–Ω–∞—Ä—É–∂–µ–Ω–æ –¥—É–±–ª–∏—Ä–æ–≤–∞–Ω–∏–µ –∑–∞–ø—Ä–æ—Å–æ–≤ –∫ –±—ç–∫–µ–Ω–¥—É –ø—Ä–∏ –∑–∞–≥—Ä—É–∑–∫–µ –≥–ª–∞–≤–Ω–æ–π —Å—Ç—Ä–∞–Ω–∏—Ü—ã:

1. **AuthContext** –¥–µ–ª–∞–µ—Ç –∑–∞–ø—Ä–æ—Å –∫ `/api/v1/auth/me` –ø—Ä–∏ –∑–∞–≥—Ä—É–∑–∫–µ
2. **HomePage** –¥–µ–ª–∞–µ—Ç –∑–∞–ø—Ä–æ—Å –∫ `/api/v1/users/profile` –µ—Å–ª–∏ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å –∞–≤—Ç–æ—Ä–∏–∑–æ–≤–∞–Ω
3. **React.StrictMode** –¥—É–±–ª–∏—Ä—É–µ—Ç useEffect –≤ development —Ä–µ–∂–∏–º–µ
4. **useCategories** –º–æ–∂–µ—Ç –ø–µ—Ä–µ—Ä–µ–Ω–¥–µ—Ä–∏–≤–∞—Ç—å—Å—è –∏–∑-–∑–∞ —Ñ—É–Ω–∫—Ü–∏–∏ `getBackendLanguage()`

## ‚úÖ –†–µ—à–µ–Ω–∏–µ

### 1. –£–±—Ä–∞–Ω–æ –¥—É–±–ª–∏—Ä–æ–≤–∞–Ω–∏–µ –∑–∞–ø—Ä–æ—Å–æ–≤ –ø—Ä–æ—Ñ–∏–ª—è

**HomePage.tsx:**
```typescript
// –£–±–∏—Ä–∞–µ–º –¥—É–±–ª–∏—Ä–æ–≤–∞–Ω–∏–µ –∑–∞–ø—Ä–æ—Å–æ–≤ - AuthContext —É–∂–µ –∑–∞–≥—Ä—É–∂–∞–µ—Ç –¥–∞–Ω–Ω—ã–µ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è
// useEffect(() => {
//   const fetchData = async () => {
//     dispatch({ type: 'SET_LOADING', payload: true });
//     
//     try {
//       // –ó–∞–≥—Ä—É–∂–∞–µ–º –ø—Ä–æ—Ñ–∏–ª—å —Ç–æ–ª—å–∫–æ –µ—Å–ª–∏ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å –∞–≤—Ç–æ—Ä–∏–∑–æ–≤–∞–Ω
//       if (isAuthenticated) {
//         const userProfile = await apiService.getUserProfile();
//         dispatch({ type: 'SET_USER', payload: userProfile });
//       }
//     } catch (error: any) {
//       console.error('Error fetching data:', error);
//       // –ù–µ –ø–æ–∫–∞–∑—ã–≤–∞–µ–º –æ—à–∏–±–∫—É –¥–ª—è –Ω–µ–∞–≤—Ç–æ—Ä–∏–∑–æ–≤–∞–Ω–Ω—ã—Ö –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–µ–π –∏–ª–∏ –∏—Å—Ç–µ–∫—à–∏—Ö —Ç–æ–∫–µ–Ω–æ–≤
//       if (isAuthenticated && error.message !== 'UNAUTHORIZED_SILENT') {
//         dispatch({ type: 'SET_ERROR', payload: '–û—à–∏–±–∫–∞ –∑–∞–≥—Ä—É–∑–∫–∏ –¥–∞–Ω–Ω—ã—Ö' });
//       }
//     } finally {
//       dispatch({ type: 'SET_LOADING', payload: false });
//     }
//   };

//   fetchData();
// }, [dispatch, isAuthenticated]);
```

### 2. –ú–µ–º–æ–∏–∑–∞—Ü–∏—è —è–∑—ã–∫–∞ –¥–ª—è –±—ç–∫–µ–Ω–¥–∞

**HomePage.tsx:**
```typescript
// –ú–µ–º–æ–∏–∑–∏—Ä—É–µ–º —è–∑—ã–∫ –¥–ª—è –±—ç–∫–µ–Ω–¥–∞, —á—Ç–æ–±—ã –∏–∑–±–µ–∂–∞—Ç—å –ª–∏—à–Ω–∏—Ö –ø–µ—Ä–µ—Ä–µ–Ω–¥–µ—Ä–æ–≤
const backendLanguage = React.useMemo(() => {
  return language === 'ru' ? 'ru' : 'en';
}, [language]);

const { categories, loading: categoriesLoading, error: categoriesError } = useCategories(true, backendLanguage);
```

## üîç –ò—Å—Ç–æ—á–Ω–∏–∫–∏ –¥—É–±–ª–∏—Ä–æ–≤–∞–Ω–∏—è

### 1. React.StrictMode (Development —Ç–æ–ª—å–∫–æ)
```typescript
// index.tsx
root.render(
  <React.StrictMode>
    <App />
  </React.StrictMode>
);
```

**–ü–æ–≤–µ–¥–µ–Ω–∏–µ:** –í development —Ä–µ–∂–∏–º–µ React.StrictMode –Ω–∞–º–µ—Ä–µ–Ω–Ω–æ –¥—É–±–ª–∏—Ä—É–µ—Ç useEffect –¥–ª—è –æ–±–Ω–∞—Ä—É–∂–µ–Ω–∏—è –ø–æ–±–æ—á–Ω—ã—Ö —ç—Ñ—Ñ–µ–∫—Ç–æ–≤.

**–†–µ—à–µ–Ω–∏–µ:** –≠—Ç–æ –Ω–æ—Ä–º–∞–ª—å–Ω–æ–µ –ø–æ–≤–µ–¥–µ–Ω–∏–µ –≤ development, –≤ production —ç—Ç–æ–≥–æ –Ω–µ –±—É–¥–µ—Ç.

### 2. –î—É–±–ª–∏—Ä–æ–≤–∞–Ω–∏–µ –∑–∞–ø—Ä–æ—Å–æ–≤ –ø—Ä–æ—Ñ–∏–ª—è
- **AuthContext** –∑–∞–≥—Ä—É–∂–∞–µ—Ç –¥–∞–Ω–Ω—ã–µ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è —á–µ—Ä–µ–∑ `/api/v1/auth/me`
- **HomePage** –¥—É–±–ª–∏—Ä–æ–≤–∞–ª –∑–∞–ø—Ä–æ—Å —á–µ—Ä–µ–∑ `/api/v1/users/profile`

**–†–µ—à–µ–Ω–∏–µ:** –£–±—Ä–∞–ª–∏ –¥—É–±–ª–∏—Ä–æ–≤–∞–Ω–∏–µ –≤ HomePage, –æ—Å—Ç–∞–≤–∏–ª–∏ —Ç–æ–ª—å–∫–æ AuthContext.

### 3. –ü–µ—Ä–µ—Ä–µ–Ω–¥–µ—Ä—ã –∏–∑-–∑–∞ —Ñ—É–Ω–∫—Ü–∏–π
```typescript
// –ü–õ–û–•–û - —Ñ—É–Ω–∫—Ü–∏—è —Å–æ–∑–¥–∞–µ—Ç—Å—è –ø—Ä–∏ –∫–∞–∂–¥–æ–º —Ä–µ–Ω–¥–µ—Ä–µ
const getBackendLanguage = () => {
  return language === 'ru' ? 'ru' : 'en';
};

// –•–û–†–û–®–û - –º–µ–º–æ–∏–∑–∏—Ä–æ–≤–∞–Ω–Ω–æ–µ –∑–Ω–∞—á–µ–Ω–∏–µ
const backendLanguage = React.useMemo(() => {
  return language === 'ru' ? 'ru' : 'en';
}, [language]);
```

## üìã –†–µ–∑—É–ª—å—Ç–∞—Ç –æ–ø—Ç–∏–º–∏–∑–∞—Ü–∏–∏

### –î–æ –∏—Å–ø—Ä–∞–≤–ª–µ–Ω–∏—è:
- ‚ùå **2 –∑–∞–ø—Ä–æ—Å–∞** –∫ –ø—Ä–æ—Ñ–∏–ª—é –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è (AuthContext + HomePage)
- ‚ùå **–õ–∏—à–Ω–∏–µ –ø–µ—Ä–µ—Ä–µ–Ω–¥–µ—Ä—ã** –∏–∑-–∑–∞ —Ñ—É–Ω–∫—Ü–∏–π
- ‚ùå **–î—É–±–ª–∏—Ä–æ–≤–∞–Ω–∏–µ** –≤ React.StrictMode

### –ü–æ—Å–ª–µ –∏—Å–ø—Ä–∞–≤–ª–µ–Ω–∏—è:
- ‚úÖ **1 –∑–∞–ø—Ä–æ—Å** –∫ –ø—Ä–æ—Ñ–∏–ª—é –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è (—Ç–æ–ª—å–∫–æ AuthContext)
- ‚úÖ **–ú–µ–º–æ–∏–∑–∏—Ä–æ–≤–∞–Ω–Ω—ã–µ –∑–Ω–∞—á–µ–Ω–∏—è** –¥–ª—è —Å—Ç–∞–±–∏–ª—å–Ω–æ—Å—Ç–∏
- ‚úÖ **–û–ø—Ç–∏–º–∏–∑–∏—Ä–æ–≤–∞–Ω–Ω—ã–µ –ø–µ—Ä–µ—Ä–µ–Ω–¥–µ—Ä—ã**

## üß™ –¢–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ

1. **–û—Ç–∫—Ä–æ–π—Ç–µ DevTools** ‚Üí Network tab
2. **–ü–µ—Ä–µ–∑–∞–≥—Ä—É–∑–∏—Ç–µ —Å—Ç—Ä–∞–Ω–∏—Ü—É**
3. **–ü—Ä–æ–≤–µ—Ä—å—Ç–µ –∫–æ–ª–∏—á–µ—Å—Ç–≤–æ –∑–∞–ø—Ä–æ—Å–æ–≤:**
   - `/api/v1/auth/me` - 1 –∑–∞–ø—Ä–æ—Å (AuthContext)
   - `/api/v1/categories/active` - 1 –∑–∞–ø—Ä–æ—Å (useCategories)
   - `/api/v1/users/profile` - 0 –∑–∞–ø—Ä–æ—Å–æ–≤ (—É–±—Ä–∞–Ω–æ –¥—É–±–ª–∏—Ä–æ–≤–∞–Ω–∏–µ)

## ‚ö†Ô∏è –í–∞–∂–Ω–æ

- **React.StrictMode** –¥—É–±–ª–∏—Ä—É–µ—Ç useEffect —Ç–æ–ª—å–∫–æ –≤ development
- **–í production** –¥—É–±–ª–∏—Ä–æ–≤–∞–Ω–∏—è –Ω–µ –±—É–¥–µ—Ç
- **–ú–µ–º–æ–∏–∑–∞—Ü–∏—è** –ø—Ä–µ–¥–æ—Ç–≤—Ä–∞—â–∞–µ—Ç –ª–∏—à–Ω–∏–µ –ø–µ—Ä–µ—Ä–µ–Ω–¥–µ—Ä—ã
- **AuthContext** –µ–¥–∏–Ω—Å—Ç–≤–µ–Ω–Ω—ã–π –∏—Å—Ç–æ—á–Ω–∏–∫ –¥–∞–Ω–Ω—ã—Ö –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è
